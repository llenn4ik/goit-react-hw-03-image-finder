(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{2:function(e,t,a){e.exports={App:"styles_App__OZ_Qg",Searchbar:"styles_Searchbar__ck2ow",SearchForm:"styles_SearchForm__3BAxS",SearchForm_button:"styles_SearchForm_button__22J6I","SearchForm_button-label":"styles_SearchForm_button-label__2tzsw",SearchForm_input:"styles_SearchForm_input__2GJsA",ImageGallery:"styles_ImageGallery___Lr6K",ImageGalleryItem:"styles_ImageGalleryItem__3sVzT",ImageGalleryItem_image:"styles_ImageGalleryItem_image__3Ot9F",Overlay:"styles_Overlay__JkgN8",Modal:"styles_Modal__1mC9z",Button:"styles_Button__1H7xP",Button_close:"styles_Button_close__31fHF"}},21:function(e,t,a){e.exports=a(64)},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=a(9),s=a(4),i=a(5),m=a(7),u=a(6),h=a(8),g=a.n(h),p=a(2),y=a.n(p),_=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.handleChange=function(t){var a=t.target;e.setState({inputValue:a.value})},e.handleSubmit=function(t){var a=e.state.inputValue;t.preventDefault(),e.props.onSubmit(a),e.setState({inputValue:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.inputValue;return r.a.createElement("header",{className:y.a.Searchbar},r.a.createElement("form",{className:y.a.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:y.a.SearchForm_button}),r.a.createElement("input",{className:y.a.SearchForm_input,type:"text",placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(n.Component);function d(e){var t=e.image,a=e.onClickModal,n=t.id,l=t.previewURL,c=t.tags,o=t.largeImageURL;return r.a.createElement("li",{key:n,className:y.a.ImageGalleryItem},r.a.createElement("img",{src:l,srcSet:o,alt:c,className:y.a.ImageGalleryItem_image,onClick:a}))}function b(e){var t=e.arrayImages,a=e.onClickModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:y.a.ImageGallery},t.map((function(e){return r.a.createElement(d,{key:e.id,image:e,onClickModal:a})}))))}var f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:y.a.Overlay},r.a.createElement("div",{className:y.a.Modal},this.props.children))}}]),a}(n.Component),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return g.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("18747667-73f1ac82bfe1238b7580f61a7","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},v=a(20),I=a.n(v),E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={arrayImages:[],page:1,searchQuery:"",error:null,loading:!1,isOpenModal:!1,BigImage:""},e.fetchImages=function(){var t=e.state,a=t.searchQuery,n=t.page;e.setState({loading:!0}),S(a,n).then((function(t){return e.setState((function(e){return{arrayImages:[].concat(Object(o.a)(e.arrayImages),Object(o.a)(t)),page:e.page+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({loading:!1})}))},e.handleSearchFormSubmit=function(t){e.setState({searchQuery:t,page:1,arrayImages:[]})},e.onClickModal=function(t){var a=t.target;e.setState({isOpenModal:!0,BigImage:a.srcset})},e.closeModal=function(){e.setState({BigImage:""}),e.setState({isOpenModal:!1})},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.fetchImages()}},{key:"render",value:function(){var e=this.state,t=e.arrayImages,a=e.loading,n=e.error,l=e.isOpenModal,c=e.BigImage;return r.a.createElement("div",null,r.a.createElement(_,{onSubmit:this.handleSearchFormSubmit}),n&&r.a.createElement("p",null,"Whoops, something went wrong: $",n.message),t.length>0&&r.a.createElement(b,{arrayImages:t,onClickModal:this.onClickModal}),l&&r.a.createElement(f,null,r.a.createElement("img",{src:c,alt:t.tags}),r.a.createElement("button",{type:"button",className:y.a.Button_close,onClick:this.closeModal},"close image")),a&&r.a.createElement(I.a,{type:"Rings",color:"#00BFFF",height:80,width:80,timeout:3e3}),t.length>0&&r.a.createElement("button",{type:"button",className:y.a.Button,onClick:this.fetchImages},"Load more"))}}]),a}(n.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.128311c6.chunk.js.map